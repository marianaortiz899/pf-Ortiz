import{a as s,b as c}from"./chunk-GS5YHSUO.js";import{a as h}from"./chunk-U2C7WTHA.js";import{Eb as l,Lb as m,R as n,U as r,q as a}from"./chunk-7WN7TALM.js";var N=(()=>{let e=class e{constructor(t,i,u,p){this.router=t,this.alertsService=i,this.loadingService=u,this.HttpClient=p,this.authUser=null}setAuthUser(t){this.authUser=t,localStorage.setItem("token",t.token)}login(t){this.HttpClient.get(`${s.apiURL}/users?email=${t.email}&password=${t.password}`).subscribe({next:i=>{i[0]?(this.setAuthUser(i[0]),this.router.navigate(["dashboard","home"])):this.alertsService.showError("EMAIL INVALIDO")}})}logout(){this.authUser=null,this.router.navigate(["auth","login"]),localStorage.removeItem("token")}verifyToken(){return this.HttpClient.get(`${s.apiURL}/users?token=${localStorage.getItem("token")}`).pipe(a(t=>t.length?(this.setAuthUser(t[0]),!0):(this.authUser=null,localStorage.removeItem("token"),!1)))}};e.\u0275fac=function(i){return new(i||e)(r(m),r(c),r(h),r(l))},e.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();export{N as a};
